<!--@model PagedList.IPagedList<mobilestore.models.category>
    @using PagedList.Mvc;
    <link href="~/Content/css/PagedList.css" rel="stylesheet" type="text/css" />
    @{
    ViewBag.Title = "Quản lý danh mục";
    }

    <script src="/Scripts/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function () {
            // Document.ready -> link up remove event handler
            $(".RemoveLink").click(function () {
                var r = confirm("Bạn có muốn xóa danh mục này ??");
                if (r == true) {
                    // Get the id from the link
                    var recordToDelete = $(this).attr("data-id");
                    if (recordToDelete != '') {
                        // Perform the ajax post
                        $.post("/Admin/RemoveCategory", { "id": recordToDelete },
                            function (data) {
                                $('#row-' + data.DeleteId).fadeOut('slow');
                                $('#update-message').text(data.Message);
                            });
                    }
                }

            });
        });
    </script>-->

<h2>Quản lý danh mục</h2>
<h3>Thêm danh mục</h3>
<table>
    <thead>
        <tr>
            <th>
                Tên danh mục
            </th>
            <th>
                Thao tác
            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <input class="form-control" ng-model="nameadd" />
            </td>
            <td>
                <input class="btn btn-success" type="button" value="Thêm" ng-click="them()" />
            </td>
        </tr>
    </tbody>
</table>
<br />
<div id="update-message"> </div>
<table class="table-condensed" border="1">
    <thead>
        <tr>
            <th>
                Tên danh mục
            </th>
            <th style="text-align: center">
                Thao tác
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="x in list">
            <td style="text-align: left">
                <span ng-hide="x.Editing">{{x.Name}}</span>
                <input type="text" ng-show="x.Editing" ng-model="x.Name" ng-blur="doneEditing(x)" />
            </td>
            <td>
                <a ng-click="editItem(x)" class="RemoveLink" style="float:left; text-decoration:none">
                    Chỉnh sửa
                </a>
            </td>
        </tr>
        <!--@foreach (var cat in Model)
        {
        <tr id="row-@cat.CATEGORY_ID">
            <td>
                @cat.CATEGORY_NAME
            </td>
            <td>
                @if(cat.HOME_PAGE == 1)
                {
                <text>Có</text>
                }
                else
                {
                <text>Không</text>
                }
            </td>
            <td>
                <a href="#" class="RemoveLink" data-id="@cat.CATEGORY_ID" style="float:left; text-decoration:none">
                    Xóa danh mục
                </a>
            </td>
            <td>
                <a href="@Url.Action(" editcategoryproduct", "Admin" , new { category_id=@cat.CATEGORY_ID })">
                    Sửa
                </a>
            </td>
        </tr>
        }-->
    </tbody>
</table>
<uib-pagination total-items="totalItems" ng-model="currentPage" ng-change="pageChanged()"></uib-pagination>

<!--<p style="color:red">Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount</p>
@Html.PagedListPager(Model, page => Url.Action("ManageCategory", "Admin",
new { page }))-->

